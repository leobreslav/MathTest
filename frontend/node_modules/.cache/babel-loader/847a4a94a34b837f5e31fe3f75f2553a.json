{"ast":null,"code":"import _classCallCheck from\"C:\\\\Users\\\\kriss\\\\MathTest\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\kriss\\\\MathTest\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"C:\\\\Users\\\\kriss\\\\MathTest\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\Users\\\\kriss\\\\MathTest\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React from'react';var Task=/*#__PURE__*/function(_React$Component){_inherits(Task,_React$Component);var _super=_createSuper(Task);function Task(props){var _this;_classCallCheck(this,Task);_this=_super.call(this,props);_this.state={data:[],id:props.id,isLoading:false};return _this;}_createClass(Task,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;var xhr=new XMLHttpRequest();xhr.open('GET',\"/api/problem_heads/\".concat(this.state.id),true);xhr.send();this.setState({isLoading:true});xhr.onreadystatechange=function(){if(xhr.readyState!==4){return false;}if(xhr.status!==200){console.log(xhr.status+': '+xhr.statusText);}else{console.log(xhr);_this2.setState({data:JSON.parse(xhr.response),isLoading:false});}};}},{key:\"renderProducts\",value:function renderProducts(){var _this$state=this.state,data=_this$state.data,isLoading=_this$state.isLoading;if(isLoading){return/*#__PURE__*/React.createElement(\"div\",null,\" \\u0417\\u0430\\u0433\\u0440\\u0443\\u0437\\u043A\\u0430!!!!\");}else{return data.map(function(item){return/*#__PURE__*/React.createElement(\"li\",{key:item},\" \",item.problem.length>20?item.problem.substring(0,19)+\"...\":item.problem);});}}},{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(\"div\",{className:\"App\"},/*#__PURE__*/React.createElement(\"div\",{className:\"product-list\"},this.renderProducts()));}}]);return Task;}(React.Component);export default Task;","map":{"version":3,"sources":["C:/Users/kriss/MathTest/frontend/src/models/Task.js"],"names":["React","Task","props","state","data","id","isLoading","xhr","XMLHttpRequest","open","send","setState","onreadystatechange","readyState","status","console","log","statusText","JSON","parse","response","map","item","problem","length","substring","renderProducts","Component"],"mappings":"gnBAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,C,GAEMC,CAAAA,I,wGACF,cAAYC,KAAZ,CAAmB,sCACf,uBAAMA,KAAN,EACA,MAAKC,KAAL,CAAa,CACTC,IAAI,CAAE,EADG,CAETC,EAAE,CAAEH,KAAK,CAACG,EAFD,CAGTC,SAAS,CAAE,KAHF,CAAb,CAFe,aAOlB,C,8EAEmB,iBAChB,GAAMC,CAAAA,GAAG,CAAG,GAAIC,CAAAA,cAAJ,EAAZ,CACAD,GAAG,CAACE,IAAJ,CAAS,KAAT,8BAAsC,KAAKN,KAAL,CAAWE,EAAjD,EAAuD,IAAvD,EACAE,GAAG,CAACG,IAAJ,GACA,KAAKC,QAAL,CAAc,CAACL,SAAS,CAAE,IAAZ,CAAd,EAEAC,GAAG,CAACK,kBAAJ,CAAyB,UAAM,CAC3B,GAAIL,GAAG,CAACM,UAAJ,GAAmB,CAAvB,CAA0B,CACtB,MAAO,MAAP,CACH,CAED,GAAIN,GAAG,CAACO,MAAJ,GAAe,GAAnB,CAAwB,CACpBC,OAAO,CAACC,GAAR,CAAYT,GAAG,CAACO,MAAJ,CAAa,IAAb,CAAoBP,GAAG,CAACU,UAApC,EACH,CAFD,IAEO,CACHF,OAAO,CAACC,GAAR,CAAYT,GAAZ,EACA,MAAI,CAACI,QAAL,CAAc,CACVP,IAAI,CAAEc,IAAI,CAACC,KAAL,CAAWZ,GAAG,CAACa,QAAf,CADI,CAEVd,SAAS,CAAE,KAFD,CAAd,EAIH,CACJ,CAdD,CAeH,C,uDAEgB,iBACa,KAAKH,KADlB,CACNC,IADM,aACNA,IADM,CACAE,SADA,aACAA,SADA,CAEb,GAAIA,SAAJ,CAAe,CACX,mBAAO,uFAAP,CACH,CAFD,IAEO,CACH,MAAOF,CAAAA,IAAI,CAACiB,GAAL,CAAS,SAAAC,IAAI,CAAI,CACpB,mBAAO,0BAAI,GAAG,CAAEA,IAAT,MAAmBA,IAAI,CAACC,OAAL,CAAaC,MAAb,CAAsB,EAAtB,CAA0BF,IAAI,CAACC,OAAL,CAAaE,SAAb,CAAuB,CAAvB,CAA0B,EAA1B,EAAgC,KAA1D,CAAkEH,IAAI,CAACC,OAA1F,CAAP,CACH,CAFM,CAAP,CAGH,CACJ,C,uCAEQ,CACL,mBACI,2BAAK,SAAS,CAAC,KAAf,eACI,2BAAK,SAAS,CAAC,cAAf,EACK,KAAKG,cAAL,EADL,CADJ,CADJ,CAOH,C,kBApDc1B,KAAK,CAAC2B,S,EAuDzB,cAAe1B,CAAAA,IAAf","sourcesContent":["import React from 'react';\r\n\r\nclass Task extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            data: [],\r\n            id: props.id,\r\n            isLoading: false,\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        const xhr = new XMLHttpRequest();\r\n        xhr.open('GET', `/api/problem_heads/${this.state.id}`, true);\r\n        xhr.send();\r\n        this.setState({isLoading: true});\r\n\r\n        xhr.onreadystatechange = () => {\r\n            if (xhr.readyState !== 4) {\r\n                return false\r\n            }\r\n\r\n            if (xhr.status !== 200) {\r\n                console.log(xhr.status + ': ' + xhr.statusText)\r\n            } else {\r\n                console.log(xhr);\r\n                this.setState({\r\n                    data: JSON.parse(xhr.response),\r\n                    isLoading: false,\r\n                })\r\n            }\r\n        }\r\n    }\r\n\r\n    renderProducts() {\r\n        const {data, isLoading} = this.state;\r\n        if (isLoading) {\r\n            return <div> Загрузка!!!!</div>\r\n        } else {\r\n            return data.map(item => {\r\n                return <li key={item} > {(item.problem.length > 20? item.problem.substring(0, 19) + \"...\" : item.problem)}</li>\r\n            })\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className='App'>\r\n                <div className='product-list'>\r\n                    {this.renderProducts()}\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Task;\r\n"]},"metadata":{},"sourceType":"module"}